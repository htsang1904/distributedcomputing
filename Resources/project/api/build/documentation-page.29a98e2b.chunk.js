"use strict";(self.webpackChunkapi=self.webpackChunkapi||[]).push([[9789],{75730:function(O,u,t){t.r(u),t.d(u,{default:function(){return b}});var e=t(67294),i=t(86896),n=t(91134),p=t(64593),m=t(17034),y=t(49066),x=t(41580),g=t(185),v=t(53979),D=t(29728),B=t(38939),T=t(8060),C=t(79031),f=t(37909),a=t(75515),r=t(15234),l=t(11047),s=t(12028),c=t(8934),o=t(30815),E=t(20022),R=t(80826),M=t(93742),K=h=>{const P=(()=>h.startsWith("/")?`${window.strapi.backendURL}${h}`:h.startsWith("http")?h:`${window.strapi.backendURL}/${h}`)();return window.open(P,"_blank"),window.focus()},S=t(90306),b=()=>{(0,n.go)();const{formatMessage:h}=(0,i.Z)(),{data:P,isLoading:I,isError:N,deleteMutation:H,regenerateDocMutation:V}=(0,S.Z)(),[A,j]=(0,e.useState)(!1),[z,Z]=(0,e.useState)(!1),[Q,w]=(0,e.useState)(),F=4,G=(P?.docVersions?.length||0)+1,U=d=>{const W=P?.prefix.startsWith("/")?"":"/";K(`${W}${P?.prefix}/v${d}`)},Y=d=>{V.mutate({version:d,prefix:P?.prefix})},J=()=>{j(!A)},X=async()=>{Z(!0),await H.mutateAsync({prefix:P?.prefix,version:Q}),j(!A),Z(!1)},k=d=>{w(d),j(!A)},$=h({id:(0,M.O)("plugin.name"),defaultMessage:"Documentation"});return N?e.createElement(m.A,null,e.createElement(y.D,null,e.createElement(x.x,{paddingTop:8},e.createElement(n.Hn,null)))):e.createElement(m.A,null,e.createElement(p.q,{title:$}),e.createElement(g.o,{"aria-busy":I},e.createElement(v.T,{title:$,subtitle:h({id:(0,M.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(n.jW,{permissions:R.Z.open},e.createElement(D.z,{onClick:()=>U(P?.currentVersion),startIcon:e.createElement(c.Z,null)},h({id:(0,M.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(y.D,null,I&&e.createElement(n.dO,null,"Plugin is loading"),P?.docVersions.length?e.createElement(B.i,{colCount:F,rowCount:G},e.createElement(T.h,null,e.createElement(C.Tr,null,e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},h({id:(0,M.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},h({id:(0,M.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(r.p,null,P.docVersions.sort((d,W)=>d.generatedDate<W.generatedDate?1:-1).map(d=>e.createElement(C.Tr,{key:d.version},e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,d.version)),e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,d.generatedDate)),e.createElement(f.Td,null,e.createElement(l.k,{justifyContent:"end",...n.UW},e.createElement(s.h,{onClick:()=>U(d.version),noBorder:!0,icon:e.createElement(c.Z,null),label:h({id:(0,M.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${d.version}`})}),e.createElement(n.jW,{permissions:R.Z.regenerate},e.createElement(s.h,{onClick:()=>Y(d.version),noBorder:!0,icon:e.createElement(o.Z,null),label:h({id:(0,M.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${d.version}`})})),e.createElement(n.jW,{permissions:R.Z.update},d.version!==P.currentVersion&&e.createElement(s.h,{onClick:()=>k(d.version),noBorder:!0,icon:e.createElement(E.Z,null),label:h({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${d.version}`})})))))))):e.createElement(n.x7,null)),e.createElement(n.QH,{isConfirmButtonLoading:z,onConfirm:X,onToggleDialog:J,isOpen:A})))}},90306:function(O,u,t){var e=t(88767),i=t(91134),n=t(49950),p=t(798);const m=()=>{const y=(0,e.useQueryClient)(),x=(0,i.lm)(),{isLoading:g,isError:v,data:D}=(0,e.useQuery)(["get-documentation",n.Z],async()=>{try{const{data:o}=await f(`/${n.Z}/getInfos`);return o}catch{return x({type:"warning",message:{id:"notification.error"}}),null}}),{del:B,post:T,put:C,get:f}=(0,i.kY)(),a=o=>{x({type:"warning",message:o.response.payload.message})},r=(o,E)=>{y.invalidateQueries("get-documentation"),x({type:o,message:{id:(0,p.Z)(E)}})},l=(0,e.useMutation)(({prefix:o,version:E})=>B(`${o}/deleteDoc/${E}`),{onSuccess:()=>r("info","notification.delete.success"),onError:o=>a(o)}),s=(0,e.useMutation)(({prefix:o,body:E})=>C(`${o}/updateSettings`,E),{onSuccess:()=>r("success","notification.update.success"),onError:a}),c=(0,e.useMutation)(({prefix:o,version:E})=>T(`${o}/regenerateDoc`,{version:E}),{onSuccess:()=>r("info","notification.generate.success"),onError:o=>a(o)});return{data:D,isLoading:g,isError:v,deleteMutation:l,submitMutation:s,regenerateDocMutation:c}};u.Z=m},798:function(O,u,t){var e=t(49950);const i=n=>`${e.Z}.${n}`;u.Z=i},93742:function(O,u,t){t.d(u,{O:function(){return e.Z}});var e=t(798)},49066:function(O,u,t){t.d(u,{D:function(){return m}});var e=t(85893),i=t(67294),n=t(45697),p=t(41580);const m=({children:y})=>(0,e.jsx)(p.x,{paddingLeft:10,paddingRight:10,children:y});m.propTypes={children:n.node.isRequired}},53979:function(O,u,t){t.d(u,{T:function(){return T}});var e=t(85893),i=t(67294),n=t(45697),p=t(88972);const m=a=>{const r=(0,i.useRef)(null),[l,s]=(0,i.useState)(!0),c=([o])=>{s(o.isIntersecting)};return(0,i.useEffect)(()=>{const o=r.current,E=new IntersectionObserver(c,a);return o&&E.observe(r.current),()=>{o&&E.disconnect()}},[r,a]),[r,l]};var y=t(66300);const x=(a,r)=>{const l=(0,y.W)(r);(0,i.useLayoutEffect)(()=>{const s=new ResizeObserver(l);return Array.isArray(a)?a.forEach(c=>{c.current&&s.observe(c.current)}):a.current&&s.observe(a.current),()=>{s.disconnect()}},[a,l])};var g=t(41580),v=t(11047),D=t(75515);const B=()=>{const a=(0,i.useRef)(null),[r,l]=(0,i.useState)(null),[s,c]=m({root:null,rootMargin:"0px",threshold:0});return x(s,()=>{s.current&&l(s.current.getBoundingClientRect())}),(0,i.useEffect)(()=>{a.current&&l(a.current.getBoundingClientRect())},[a]),{containerRef:s,isVisible:c,baseHeaderLayoutRef:a,headerSize:r}},T=a=>{const{containerRef:r,isVisible:l,baseHeaderLayoutRef:s,headerSize:c}=B();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:c?.height},ref:r,children:l&&(0,e.jsx)(f,{ref:s,...a})}),!l&&(0,e.jsx)(f,{...a,sticky:!0,width:c?.width})]})};T.displayName="HeaderLayout";const C=(0,p.ZP)(g.x)`
  width: ${a=>a.width}px;
  z-index: ${({theme:a})=>a.zIndices[1]};
`,f=i.forwardRef(({navigationAction:a,primaryAction:r,secondaryAction:l,subtitle:s,title:c,sticky:o,width:E,...R},M)=>{const L=typeof s=="string";return o?(0,e.jsx)(C,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:E,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{children:[a&&(0,e.jsx)(g.x,{paddingRight:3,children:a}),(0,e.jsxs)(g.x,{children:[(0,e.jsx)(D.Z,{variant:"beta",as:"h1",...R,children:c}),L?(0,e.jsx)(D.Z,{variant:"pi",textColor:"neutral600",children:s}):s]}),l?(0,e.jsx)(g.x,{paddingLeft:4,children:l}):null]}),(0,e.jsx)(v.k,{children:r?(0,e.jsx)(g.x,{paddingLeft:2,children:r}):void 0})]})}):(0,e.jsxs)(g.x,{ref:M,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0,children:[a?(0,e.jsx)(g.x,{paddingBottom:2,children:a}):null,(0,e.jsxs)(v.k,{justifyContent:"space-between",children:[(0,e.jsxs)(v.k,{minWidth:0,children:[(0,e.jsx)(D.Z,{as:"h1",variant:"alpha",...R,children:c}),l?(0,e.jsx)(g.x,{paddingLeft:4,children:l}):null]}),r]}),L?(0,e.jsx)(D.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:s}):s]})});f.displayName="BaseHeaderLayout",f.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},f.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,sticky:n.bool,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired,width:n.number},T.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},T.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired}},17034:function(O,u,t){t.d(u,{A:function(){return g}});var e=t(85893),i=t(67294),n=t(45697),p=t(88972),m=t(41580);const y=(0,p.ZP)(m.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:v})=>v?"auto 1fr":"1fr"};
`,x=(0,p.ZP)(m.x)`
  overflow-x: hidden;
`,g=({sideNav:v,children:D})=>(0,e.jsxs)(y,{hasSideNav:!!v,children:[v,(0,e.jsx)(x,{paddingBottom:10,children:D})]});g.defaultProps={sideNav:void 0},g.propTypes={children:n.node.isRequired,sideNav:n.node}},185:function(O,u,t){t.d(u,{o:function(){return m}});var e=t(85893),i=t(88972),n=t(41580);const p=(0,i.ZP)(n.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:y="main-content-title",...x})=>(0,e.jsx)(p,{"aria-labelledby":y,as:"main",id:"main-content",tabIndex:-1,...x})}}]);
